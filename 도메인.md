# Growple 도메인 정리

첨부해주신 문서들을 기반으로 Growple의 도메인을 주제별로 체계적으로 정리해드리겠습니다.

---

## 1. 서비스 개요

### 핵심 컨셉
- **서비스명**: Growple (Grow + People) - "사람들이 함께 성장한다"
- **핵심 가치**: 보증금 기반 참여 동기 부여
- **차별점**: 게이미피케이션 + 금전적 동기부여

### 비즈니스 모델
- 참가비(보증금) 선결제 → 출석률에 따라 환급
- 미환급 금액은 플랫폼 수익 또는 보너스 풀로 활용 (정책 결정 필요)

---

## 2. 회원 (Member)

### 가입 및 인증
| 항목 | 내용 |
|------|------|
| 로그인 방식 | 일반 로그인, 소셜 로그인 |
| 비밀번호 재설정 | 이메일 기반 |
| 이메일 인증 | 추후 예정 |
| 가입 시 지급 포인트 | 1,000P |

### 회원 권한 구분
| 구분 | 권한 |
|------|------|
| 비회원 | 스터디 목록 조회만 가능 |
| 회원 | 스터디 참가, 개설, 채팅, 게시판 이용 |
| 스터디장 | 스터디 관리, 공지, 참가자 관리 |

### 프로필 정보
- **닉네임**: 한글/영문/숫자, 2~20자, 중복 불가
- **관심 분야**: 최대 5개 선택
- **자기소개**: 최대 200자

### 회원 상태 관리
- 등록 시간 (created_at)
- 가입 완료 시간 (verified_at)
- 탈퇴 시간 (deleted_at)

### 탈퇴 조건
- 진행 중인 스터디가 없어야 함
- 개설한 모집 중/진행 중 스터디가 없어야 함

---

## 3. 스터디 (Study)

### 스터디 상태 흐름
```
[모집 중] → [진행 중] → [완료]
    ↓           ↓
[취소]      [조기 종료]
```

### 개설 정보 (스터디장이 설정)

| 구분 | 항목 | 제약조건 |
|------|------|----------|
| 기본 정보 | 제목 | 최대 50자 |
| | 썸네일 이미지 | 400x300px, JPG/PNG, 최대 5MB |
| | 카테고리 | 개발, 외국어, 자격증, 취미, 기타 |
| | 난이도 | 입문/초급/중급/고급 |
| | 공개 설정 | 공개/비공개 |
| 일정 설정 | 시작일~종료일 | 오늘 이후 (최소 3일 후부터) |
| | 진행 요일 | 월~일 중 선택 |
| | 진행 시간 | 시작~종료 시간 |
| 참가 설정 | 최소/최대 인원 | - |
| | 참가비(보증금) | 5,000P ~ 50,000P |
| 상세 설명 | 스터디 소개 | 최대 2,000자 |
| | 진행 방식 | 최대 2,000자 |
| | 스터디장 한마디 | 최대 500자 (선택) |

### 스터디 규칙
- 선착순 마감
- 최소 인원 미달 시 자동 취소
- **스터디 시작 후 조건 수정 불가**

### 스터디 기능
| 기능 | 설명 | 활성화 시점 |
|------|------|-------------|
| 게시판 | 주차별 학습 자료 공유, Q&A | 스터디 시작 후 |
| 채팅방 | 실시간 토론, 스터디장 공지 | 스터디 시작 후 |
| 참가자 목록 | 프로필, 출석률 확인 | 스터디 시작 후 |

---

## 4. 스터디 참가 (Enrollment)

### 참가 프로세스
```
[참가 신청] → [보증금 결제] → [참가 완료] → [스터디 활동] → [완료/환급]
```

### 참가 상태
| 상태 | 설명 |
|------|------|
| PENDING | 결제 대기 |
| CONFIRMED | 참가 확정 |
| CANCELLED | 취소됨 |
| COMPLETED | 완료 |

### 환불 정책
| 시점 | 환불 |
|------|------|
| 스터디 시작 전 | 전액 환불 |
| 스터디 시작 후 | 환불 불가 |

### 중도 탈퇴
- 환불 없음
- 기존 출석 보상 포인트는 유지
- 탈퇴 이유 입력 필수

### 조기 종료 (스터디장)
| 사유 | 처리 |
|------|------|
| 정당한 사유 (인원 미달 등) | 참가자 참가비 전액 환급 |
| 부당한 종료 | 참가자 보상 + 스터디장 패널티 |

---

## 5. 출석 (Attendance)

### 출석 체크 규칙
| 항목 | 내용 |
|------|------|
| 체크 가능 시간 | 스터디 시작 30분 전 ~ 시작 10분 후 |
| 체크 방식 | 버튼 클릭 |
| 체크 포인트 | 출석 1회당 +5 활동점수 |

### 출석 상태별 UI
| 상태 | 설명 |
|------|------|
| 출석 시간 전 | 비활성 버튼, 활성화 시간 안내 |
| 출석 가능 시간 | 활성 버튼, 남은 시간 카운트다운 |
| 출석 완료 | 완료 표시, 활동점수 획득 안내 |
| 결석 | 결석 표시, 현재 출석률 안내 |
| 오늘 스터디 없음 | 다음 스터디 일정 안내 |

---

## 6. 포인트 & 결제 시스템

### 결제 시스템
- **결제 수단**: 토스 API (테스트키 사용)
- **결제 옵션**:
    - 보유 포인트 + 토스페이 추가 결제
    - 전액 토스페이 결제

### 환급 정책
| 출석률 | 환급 비율 |
|--------|----------|
| 100% | 100% + 보너스 포인트 |
| 80% 이상 | 80% |
| 60% 이상 | 60% |
| 60% 미만 | 환급 없음 |

- **환급 시점**: 스터디 종료일 다음날 (자동 처리)

### 포인트 적립/사용
| 구분 | 내용 |
|------|------|
| 회원가입 | +1,000P |
| 레벨업 | +1,000P (레벨당) |
| 스터디 환급 | 출석률에 따른 환급 |
| 스터디 참가 | 보증금 차감 |

---

## 7. 레벨 & 게이미피케이션

### 활동 점수 획득
| 활동 | 점수 |
|------|------|
| 출석 1회 | +5점 |
| 스터디 완료 | +50점 |
| 100% 출석 달성 | +100점 (보너스) |

### 레벨 구간
| 레벨 | 칭호 | 점수 구간 |
|------|------|----------|
| Lv.1 | 새내기 | 0 ~ 99점 |
| Lv.2 | 열정러 | 100 ~ 299점 |
| Lv.3 | 고수 | 300 ~ 599점 |
| Lv.4 | 마스터 | 600점 이상 |

### 신뢰도 점수
- 완주한 스터디 수
- 출석률 평균
- 5.0 만점 기준

---

## 8. 알림 (Notification)

### 알림 발송 시점
| 이벤트 | 알림 내용 |
|--------|----------|
| 스터디 시작 30분 전 | 출석 체크 알림 |
| 참가 완료 | 참가 확정 알림 |
| 환급 완료 | 환급 금액 알림 |
| 레벨업 | 레벨업 축하 알림 |
| 새 공지사항 | 스터디 공지 알림 |

### 알림 채널
- 앱 푸시 알림
- 이메일 알림
- 카카오톡 알림 (연동 시)

---

## 9. 검색 및 필터링

### 검색 옵션
- **키워드 검색**: 제목, 설명

### 필터 옵션
| 필터 | 옵션 |
|------|------|
| 카테고리 | 개발, 외국어, 자격증, 취미, 기타 |
| 난이도 | 입문/초급/중급/고급 |
| 기간 | 4주 미만 / 4~8주 / 8주 이상 |
| 참가비 | ~1만원 / 1~3만원 / 3~5만원 |

### 정렬 옵션
- 최신순
- 인기순
- 마감 임박순

---

## 10. 엔티티 구조

### 핵심 엔티티
```

### 엔티티 목록
| 엔티티 | 설명 |
|--------|------|
| Member | 회원 정보 |
| Study | 스터디 기본 정보 |
| StudyMember | 스터디  실제 참가자 |
| Enrollment | 참가 신청 |
| Session | 스터디 세션 (회차) |
| Attendance | 출석 기록 |
| Payment | 결제 정보 |
| Point | 포인트 잔액 |
| PointHistory | 포인트 변동 내역 |
| Notification | 알림 |

---
